{"version":3,"sources":["routes/answer.ts"],"names":[],"mappings":"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","file":"routes/answer.js","sourcesContent":["import express = require('express');\nimport passport = require('passport');\nvar router = express.Router();\n\n// db references\nimport mongoose = require('mongoose');\n\nimport answerModel = require('../models/answer');\nimport Answer = answerModel.Answer;\n\nimport surveyModel = require('../models/survey');\nimport Survey = surveyModel.Survey;\n\nrouter.get('/participate-shortquestions/:id', (req: express.Request, res: express.Response, next: any) => {\n  var id = req.params.id;\n  Survey.findById(id, (error, survey) => {\n    if (error) {\n      console.log(error);\n      res.end(error);\n    }\n    else {\n      //show the edit view\n      res.render('answer/participate-shortquestions', {\n        title: 'Participate',\n        survey: survey,\n        displayName: req.user ? req.user.displayName : ''\n      });\n    }\n  });\n});\n\n// Post answer\nrouter.post('/participate-shortquestions/:id', function(req: express.Request, res: express.Response, next: any) {\n  Answer.create({\n    surveyTitle: req.body.surveyTitle,\n    surveyType: req.body.surveyType,\n    shortAnswer1: req.body.shortAnswer1,\n    shortAnswer2: req.body.shortAnswer2,\n    shortAnswer3: req.body.shortAnswer3,\n    shortAnswer4: req.body.shortAnswer4,\n    shortAnswer5: req.body.shortAnswer5,\n    displayName: req.body.displayName\n  }, function(error, Answer) {\n    if (error) {\n      console.log(error);\n      res.end(error);\n    }\n    else {\n      res.redirect('/browse-surveys');\n    }\n  })\n});\n\nrouter.get('/participate-multiplechoice/:id', (req: express.Request, res: express.Response, next: any) => {\n  var id = req.params.id;\n  Survey.findById(id, (error, survey) => {\n    if (error) {\n      console.log(error);\n      res.end(error);\n    }\n    else {\n      //show the edit view\n      res.render('answer/participate-multiplechoice', {\n        title: 'Participate',\n        survey: survey,\n        displayName: req.user ? req.user.displayName : ''\n      });\n    }\n  });\n});\n\n// Post answer\nrouter.post('/participate-multiplechoice/:id', function(req: express.Request, res: express.Response, next: any) {\n  Answer.create({\n    surveyTitle: req.body.surveyTitle,\n    surveyType: req.body.surveyType,\n    answer1Opt1: req.body.answer1Opt1,\n    answer1Opt2: req.body.answer1Opt2,\n    answer1Opt3: req.body.answer1Opt3,\n    answer1Opt4: req.body.answer1Opt4,\n    answer2Opt1: req.body.answer2Opt1,\n    answer2Opt2: req.body.answer2Opt2,\n    answer2Opt3: req.body.answer2Opt3,\n    answer2Opt4: req.body.answer2Opt4,\n    answer3Opt1: req.body.answer3Opt1,\n    answer3Opt2: req.body.answer3Opt2,\n    answer3Opt3: req.body.answer3Opt3,\n    answer3Opt4: req.body.answer3Opt4,\n    answer4Opt1: req.body.answer4Opt1,\n    answer4Opt2: req.body.answer4Opt2,\n    answer4Opt3: req.body.answer4Opt3,\n    answer4Opt4: req.body.answer4Opt4,\n    answer5Opt1: req.body.answer5Opt1,\n    answer5Opt2: req.body.answer5Opt2,\n    answer5Opt3: req.body.answer5Opt3,\n    answer5Opt4: req.body.answer5Opt4,\n  }, function(error, Answer) {\n    if (error) {\n      console.log(error);\n      res.end(error);\n    }\n    else {\n      res.redirect('/browse-surveys');\n    }\n  })\n});\n\n// make this public\nmodule.exports = router;"],"sourceRoot":"/source/"}